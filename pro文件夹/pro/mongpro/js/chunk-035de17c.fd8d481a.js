(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-035de17c"],{"0495":function(e,t,a){},7787:function(e,t,a){"use strict";a("0495")},"7e55":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"header"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),a("el-breadcrumb-item",[e._v("商品管理")]),a("el-breadcrumb-item",[e._v("添加商品")])],1)],1),a("el-card",[a("el-alert",{attrs:{title:"添加商品信息",type:"info",center:"","show-icon":"",closable:!1}}),a("el-steps",{attrs:{space:200,active:e.activeSteps,"finish-status":"success","align-center":""}},[a("el-step",{attrs:{title:"商品信息"}}),a("el-step",{attrs:{title:"商品属性"}}),a("el-step",{attrs:{title:"商品信息预览"}}),a("el-step",{attrs:{title:"完成"}})],1),a("el-form",{ref:"addFormRef",attrs:{model:e.addForm,rules:e.addFormRules,"label-width":"100px","label-position":"top"}},[a("el-tabs",{attrs:{"tab-position":"left","before-leave":e.TabsBeforeLeave},on:{"tab-click":e.TabClicked},model:{value:e.activeIndex,callback:function(t){e.activeIndex=t},expression:"activeIndex"}},[a("el-tab-pane",{attrs:{label:"基本信息",model:e.addForm,name:"0"}},[a("el-form-item",{attrs:{label:"商品名称",prop:"title"}},[a("el-input",{model:{value:e.addForm.title,callback:function(t){e.$set(e.addForm,"title",t)},expression:"addForm.title"}})],1),a("el-form-item",{attrs:{label:"商品价格",prop:"price"}},[a("el-input",{attrs:{type:"number"},model:{value:e.addForm.price,callback:function(t){e.$set(e.addForm,"price",t)},expression:"addForm.price"}})],1),a("el-form-item",{attrs:{label:"商品数量",prop:"num"}},[a("el-input",{attrs:{type:"number"},model:{value:e.addForm.num,callback:function(t){e.$set(e.addForm,"num",t)},expression:"addForm.num"}})],1),a("el-form-item",{attrs:{label:"商品分类",prop:"table"}},[a("el-input",{model:{value:e.addForm.table,callback:function(t){e.$set(e.addForm,"table",t)},expression:"addForm.table"}})],1)],1),a("el-tab-pane",{attrs:{label:"商品属性",model:e.addForm,name:"1"}},[a("el-form-item",{attrs:{label:"店铺名称",prop:"store"}},[a("el-input",{model:{value:e.addForm.store,callback:function(t){e.$set(e.addForm,"store",t)},expression:"addForm.store"}})],1),a("el-form-item",{attrs:{label:"商品图片"}},[a("el-upload",{attrs:{action:"http://192.168.4.93:4000/manage/upLoad","on-preview":e.handlePreview,"on-remove":e.handleRemove,"list-type":"picture","on-success":e.handleSuccess}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])],1)],1),a("el-form-item",{attrs:{label:"是否收藏",prop:"title"}},[a("el-switch",{model:{value:e.addForm.collected,callback:function(t){e.$set(e.addForm,"collected",t)},expression:"addForm.collected"}})],1)],1),a("el-tab-pane",{attrs:{label:"商品信息预览",model:e.addForm,name:"2"}},[a("div",{staticClass:"goodsInfo"},[a("div",[a("img",{staticClass:"goodsImg",attrs:{src:e.addForm.goodsImg,alt:""}})]),a("div",{staticClass:"content"},[a("div",{staticClass:"goodsName"},[e._v(e._s(e.addForm.title))]),a("div",{staticClass:"store"},[e._v("店铺名 "),a("span",{staticClass:"tag"},[e._v(e._s(e.addForm.store))])]),a("div",{staticClass:"price"},[e._v(" 价格 "),a("span",{staticClass:"sell-price"},[e._v("￥"+e._s(e.addForm.price))])]),a("div",[e._v("是否收藏 "),a("el-switch",{model:{value:e.addForm.collected,callback:function(t){e.$set(e.addForm,"collected",t)},expression:"addForm.collected"}})],1)])]),a("el-button",{attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("确定提交")])],1)],1)],1)],1),a("el-dialog",{attrs:{title:"图片预览",visible:e.previewVisible,width:"50%"},on:{"update:visible":function(t){e.previewVisible=t}}},[a("img",{staticClass:"preciewImg",attrs:{src:e.previewPath,alt:""}})])],1)},l=[],r={data:function(){return{activeSteps:0,activeIndex:"0",previewPath:"",previewVisible:!1,addForm:{title:"",price:"",num:"",table:"",store:"",goodsImg:"",collected:!1},addFormRules:{title:[{required:!0,message:"请输入商品名称",trigger:"blur"}],price:[{required:!0,message:"请输入商品价格",trigger:"blur"}],num:[{required:!0,message:"请输入商品数量",trigger:"blur"}],table:[{required:!0,message:"请选择商品分类",trigger:"blur"}],store:[{required:!0,message:"请输入店铺名称",trigger:"blur"}]}}},methods:{TabsBeforeLeave:function(e,t){var a=!1;if(1==Boolean(this.addForm.title)&&1==Boolean(this.addForm.price)&&1==Boolean(this.addForm.num)&&1==Boolean(this.addForm.table)&&(a=!0),"0"===t&&0==a)return this.$message.error("请填写商品基本信息！"),!1},TabClicked:function(){"1"==this.activeIndex?this.activeSteps=1:"2"==this.activeIndex&&(this.activeSteps=2)},handleAdd:function(){var e=this;this.$http.post("/manage/doAdd",this.addForm).then((function(){console.log(e.addForm),e.$message.success("添加商品成功！"),e.$router.push("/home")}))},handleRemove:function(){this.addForm.goodsImg=""},handlePreview:function(e){console.log(e),this.previewPath=e.response.url,this.previewVisible=!0},handleSuccess:function(e){this.addForm.goodsImg=e.url,console.log(this.addForm)}}},o=r,i=(a("7787"),a("5d22")),d=Object(i["a"])(o,s,l,!1,null,"52ac2dac",null);t["default"]=d.exports}}]);
//# sourceMappingURL=chunk-035de17c.fd8d481a.js.map